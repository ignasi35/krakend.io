<!DOCTYPE html>
<html lang="en-us">
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="generator" content="Hugo 0.17" />


    <title>KrakenD F.A.Q - Devops.faith KrakenD</title>
    <meta property="og:title" content="KrakenD F.A.Q - Devops.faith KrakenD">
    
    <meta property="description" content="Frequently Asked Questions">
    








<meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">

<link rel="stylesheet" href="http://krakend.io/bootstrap/css/bootstrap.min.css">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ionicons/2.0.1/css/ionicons.min.css">

<link rel="stylesheet" href="http://krakend.io/dist/css/AdminLTE.min.css">
<link rel="stylesheet" href="http://krakend.io/dist/css/skins/skin-black-light.min.css">
<link rel="stylesheet" href="http://krakend.io/dist/css/custom.css">






</head>
<body class="hold-transition sidebar-mini skin-black-light">
<div class="wrapper">

    
    <header class="main-header">

        
        <a href="http://krakend.io/" class="logo">
            
      <span class="logo-mini">
        <img src="http://krakend.io/images/logo-mini.png" alt="">
      </span>
            
            <img src="http://krakend.io/images/logo.png" alt="">
        </a>

        
        <nav class="navbar navbar-static-top" role="navigation">
            
            
            <a href="#" class="sidebar-toggle" data-toggle="offcanvas" role="button">
                <span class="sr-only">Toggle navigation</span>
            </a>
            

            <div class="collapse navbar-collapse pull-left" id="navbar-collapse">
                <ul class="nav navbar-nav">
                    <li>
                        <a href="http://krakend.io//#features">Features</a>
                    </li>
                    <li>
                        <a href="http://krakend.io/download/">Download</a>
                    </li>
                    <li><a href="http://krakend.io/overview/introduction">Documentation</a></li>
                    
                </ul>
            </div>

            
            <div class="navbar-custom-menu">

                <ul class="nav navbar-nav">
                    <li>
                        <a href="http://krakend.io/designer/">Go to KrakenDesigner</a>
                    </li>
                    <li>
                        <a href="#" data-toggle="control-sidebar" title="Help"><i class="fa fa-question"></i> </a>
                    </li>
                </ul>
            </div>
        </nav>
    </header>
<div >
    
    <aside class="main-sidebar">

        

        <section class="sidebar">
            


            
            
<ul class="sidebar-menu">
    <li class="header">Documentation</li>
    
    
        
        <li class="treeview">
            <a href="javascript:;">
                <i class='fa fa-road'></i>  <span>Getting Started</span>
                        <span class="pull-right-container">
                            <i class="fa fa-angle-left pull-right"></i>
                        </span>
            </a>
            <ul class="treeview-menu">
                
                <li class="">
                    <a href="/overview/introduction/"><i class="fa fa-circle-o %}"></i> Introduction</a>
                </li>
                
                <li class="">
                    <a href="/overview/installing/"><i class="fa fa-circle-o %}"></i> Installing KrakenD</a>
                </li>
                
                <li class="">
                    <a href="/overview/usage/"><i class="fa fa-circle-o %}"></i> Using KrakenD</a>
                </li>
                
                <li class="">
                    <a href="/overview/configuration/"><i class="fa fa-circle-o %}"></i> Configuration</a>
                </li>
                
            </ul>
        </li>
        
    
        
        <li class="treeview">
            <a href="/configuration/">
                <i class='fa fa-file-text-o'></i>  <span>Configuration Options</span>
            </a>
        <li>
        
    
        
        <li class="treeview">
            <a href="javascript:;">
                <i class='fa fa-check'></i>  <span>Features</span>
                        <span class="pull-right-container">
                            <i class="fa fa-angle-left pull-right"></i>
                        </span>
            </a>
            <ul class="treeview-menu">
                
                <li class="">
                    <a href="/features/response-manipulation/"><i class="fa fa-circle-o %}"></i> Response manipulation</a>
                </li>
                
                <li class="">
                    <a href="/features/concurrent-requests/"><i class="fa fa-circle-o %}"></i> Concurrent Requests</a>
                </li>
                
                <li class="">
                    <a href="/features/security/"><i class="fa fa-circle-o %}"></i> Security</a>
                </li>
                
                <li class="">
                    <a href="/features/other/"><i class="fa fa-circle-o %}"></i> Other</a>
                </li>
                
            </ul>
        </li>
        
    
        
        <li class="treeview">
            <a href="javascript:;">
                <i class='fa fa-heartbeat'></i>  <span>Throttling and Limits</span>
                        <span class="pull-right-container">
                            <i class="fa fa-angle-left pull-right"></i>
                        </span>
            </a>
            <ul class="treeview-menu">
                
                <li class="">
                    <a href="/throttling/overview/"><i class="fa fa-circle-o %}"></i> Throttling Overview</a>
                </li>
                
                <li class="">
                    <a href="/throttling/circuit-breaker/"><i class="fa fa-circle-o %}"></i> Circuit Breaker</a>
                </li>
                
                <li class="">
                    <a href="/throttling/rate-limit/"><i class="fa fa-circle-o %}"></i> Rate Limits</a>
                </li>
                
            </ul>
        </li>
        
    
        
        <li class="treeview">
            <a href="javascript:;">
                <i class='fa fa-space-shuttle'></i>  <span>Command line commands</span>
                        <span class="pull-right-container">
                            <i class="fa fa-angle-left pull-right"></i>
                        </span>
            </a>
            <ul class="treeview-menu">
                
                <li class="">
                    <a href="/commands/run/"><i class="fa fa-circle-o %}"></i> Run</a>
                </li>
                
                <li class="">
                    <a href="/commands/check/"><i class="fa fa-circle-o %}"></i> Check</a>
                </li>
                
            </ul>
        </li>
        
    
        
        <li class="treeview">
            <a href="/download/">
                <i class='fa fa-download'></i>  <span>Download KrakenD</span>
            </a>
        <li>
        
    
        
        <li class="treeview">
            <a href="javascript:;">
                <i class='fa fa-bar-chart'></i>  <span>Benchmarks</span>
                        <span class="pull-right-container">
                            <i class="fa fa-angle-left pull-right"></i>
                        </span>
            </a>
            <ul class="treeview-menu">
                
                <li class="">
                    <a href="/benchmarks/overview/"><i class="fa fa-circle-o %}"></i> Overview</a>
                </li>
                
                <li class="">
                    <a href="/benchmarks/api-gateway-benchmark/"><i class="fa fa-circle-o %}"></i> KrakenD vs others</a>
                </li>
                
                <li class="">
                    <a href="/benchmarks/aws/"><i class="fa fa-circle-o %}"></i> On Amazon Web Services</a>
                </li>
                
                <li class="">
                    <a href="/benchmarks/local/"><i class="fa fa-circle-o %}"></i> Local machine</a>
                </li>
                
            </ul>
        </li>
        
    
        
        <li class="treeview">
            <a href="/faq">
                <i class='fa fa-wrench'></i>  <span>Troubleshooting</span>
            </a>
        <li>
        
    
        
        <li class="treeview">
            <a href="http://github.com/devopsfaith/krakend/issues">
                <i class='fa fa-github'></i>  <span>Issues</span>
            </a>
        <li>
        
    
</ul>

            
        </section>
        
    </aside>

    
    <div class="content-wrapper">
        <section class="content-header">
            
<h1>
    KrakenD F.A.Q
    <small> Documentation </small>
</h1>

        </section>

        <section class="content">
            
<div class="row">
    <section class="col-md-12 docs">

        <div class="box box-primary">
            <div class="box-body">
                
                
                <div class="pull-right col-md-4 TOC">
                    <div class="box">
                    <div class="box-header with-border">
                        <h5 class="box-title"><i class="fa fa-book"></i> Table of Contents</h5>
                        <div class="pull-right">
                            <a data-widget="collapse"><i class="fa fa-minus"></i></a>
                        </div>
                    </div>

                        <div class="box-body">
                            <nav id="TableOfContents">
<ul>
<li><a href="#understanding-the-behaviour">Understanding the behaviour</a>
<ul>
<li><a href="#i-am-seeing-frequent-503-errors-in-the-logs">I am seeing frequent <code>503</code> errors in the logs</a>
<ul>
<li><a href="#solution">Solution</a></li>
</ul></li>
<li><a href="#i-am-having-empty-responses">I am having empty responses</a>
<ul>
<li><a href="#solution-1">Solution</a></li>
</ul></li>
<li><a href="#reserved-endpoints">Reserved endpoints</a></li>
</ul></li>
</ul>
</nav>
                        </div>
                    </div>
                </div>
                

                

<h1 id="understanding-the-behaviour">Understanding the behaviour</h1>

<h2 id="i-am-seeing-frequent-503-errors-in-the-logs">I am seeing frequent <code>503</code> errors in the logs</h2>

<p>E.g:</p>

<pre><code>2016/11/13 - 18:01:18 | 200 |    5.352143ms | ::1 |   GET     /frontpage
2016/11/13 - 18:01:18 | 503 |       5.662µs | ::1 |   GET     /frontpage
2016/11/13 - 18:01:18 | 503 |       5.662µs | ::1 |   GET     /frontpage
</code></pre>

<p>The <code>max_rate</code> setting defines the maximum number of requests allowed in a single second to an endpoint. When this
number is reached, subsequent connections are rejected with a <code>503</code> error. This limitation is optional and is usually
set to avoid hammering your own backends and compromising their stability.</p>

<h3 id="solution">Solution</h3>

<p>Increase the <code>max_rate</code> number or disable it (<code>max_rate = 0</code>). This setting can be set globaly for all the endpoints,
or overridden individually per endpoint.</p>

<p>Remember: failling fast is always better than overloading your infrastructure and degrading the quality of your entire services.</p>

<h2 id="i-am-having-empty-responses">I am having empty responses</h2>

<p>The KrakenD service will cut the connection and will return and empty response if the backend does not respond in the
time set by the <code>timeout</code> variable. This variable is usually written in magnitude of <strong>milliseconds</strong>.</p>

<h3 id="solution-1">Solution</h3>

<p>Whenever possible add caching layers in your backends, scale the infrastructure, etc. so that can answer requests in a
decent time. Increasing the <code>timeout</code> variable is an option but but should be always <strong>your last option</strong>. If your
backends are not able to respond in a short time think that when you increment the timeout what you really do is
to block connections waiting for the backend. The memory consumption will increase and the number of connections you can
open are finite. In a gateway your focus should be freeing the connections as soon as possible.</p>

<p>Values above <code>2000ms</code> are not recommended.</p>

<h2 id="reserved-endpoints">Reserved endpoints</h2>

<p>The following names cannot be used as endpoint names as they are reserved:</p>

<pre><code>/__debug/
/favicon.ico
</code></pre>


            </div>
    </section>
</div>

        </section>
    </div>
</div>

</div>


<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-5">
                <img src="/images/logo-inverse.png" >
                <p class="lead">The <strong>ultra performer</strong> API Gateway.</p>
                <span>KrakenD helps applications developers to rapidly release features by eliminating all the complexities of SOA architectures, while offering a unique performance.</span>
                <div class="social">
                    <a href="https://www.facebook.com/apigateway" target="_blank"  title="Facebook">
                        <i class="fa fa-facebook-official" aria-hidden="true"></i><span class="sr-only">Facebook</span>
                    </a>
                    <a href="https://twitter.com/devopsfaith" target="_blank" class="social-btn-twitter" title="Twitter">
                        <i class="fa fa-twitter" aria-hidden="true"></i><span class="sr-only">Twitter</span>
                    </a>
                    <a href="https://github.com/devopsfaith" target="_blank" class="social-btn-github" title="GitHub">
                        <i class="fa fa-github" aria-hidden="true"></i><span class="sr-only">GitHub</span>
                    </a>
                </div>

            </div>
            <nav>
                <div class="col-md-2 col-md-offset-1">
                    
                </div>
                <div class="col-md-2">
                    <h6>Product</h6>
                    <ul class="list-unstyled">
                        <li><a href="/#features/">Features</a></li>
                        
                        <li><a href="/benchmarks/overview/">Benchmarks</a></li>
                        <li><a href="/download/">Download</a></li>
                    </ul>

                </div>
                <div class="col-md-2">
                    <h6>Support</h6>
                    <ul class="list-unstyled">
                        <li><a href="/overview/introduction">Documentation</a></li>
                        <li><a href="https://github.com/devopsfaith/krakend" target="_blank">Open Source</a></li>
                        
                        <li><a href="mailto:hello@krakend.io">Contact Us</a></li>
                    </ul>
                </div>
            </nav>
        </div>
        <div class="row">
            <div class="col-md-5 additional-links">
                <strong>Copyright &copy; 2016 <a href="http://devops.faith">Devops Faith</a>.</strong> All rights reserved.
            </div>
            <div class="pull-right hidden-xs">
                Made with <i class="fa fa-heart-o" style="color:hotpink"></i> in Barcelona
            </div>
        </div>
    </div>
</footer>


   
<aside class="control-sidebar control-sidebar-light">


    <div class="tab-content">
        
            <h3 class="control-sidebar-heading">Need help?</h3>
            <p>Contact a human. Or they say so...</p>
            <ul class="control-sidebar-menu">
                <li>
                    <a href="mailto:hello@krakend.io">
                        <i class="menu-icon fa fa-envelope bg-red"></i>

                        <div class="menu-info">
                            <h4 class="control-sidebar-subheading">Send us an email</h4>
                            <p>hello@krakend.io</p>
                        </div>
                    </a>
                </li>
                <li>
                    <a href="http://twitter.com/devopsfaith">
                        <i class="menu-icon fa fa-twitter bg-blue"></i>

                        <div class="menu-info">
                            <h4 class="control-sidebar-subheading">Tweet!</h4>
                            <p>@devopsfaith</p>
                        </div>
                    </a>
                </li>
            </ul>
            <h3 class="control-sidebar-heading">Access documentation</h3>
            <p><a href="">Krakend.io documentation</a></p>

    </div>
</aside>


<div class="control-sidebar-bg"></div>

</body>
</html>
<script src="http://krakend.io/plugins/jQuery/jquery-2.2.3.min.js"></script>
<script src="http://krakend.io/bootstrap/js/bootstrap.min.js"></script>
<script src="http://krakend.io/dist/js/app.min.js"></script>
